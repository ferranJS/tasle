---
const baseURL = import.meta.env.BASE_URL
---

<!-- Dependencies: 1: Astro variable, 2: driverJS onlick, 3: tailwind, 4: svgs -->
<aside
  id="socials"
  class="fixed bottom-4 left-4 z-[9999] flex flex-col items-start font-medium text-white opacity-80 duration-500 hover:opacity-100 [&>a>div>p]:line-clamp-1 [&>a>div>p]:text-clip [&>a>div>p]:leading-4 [&>a>div]:max-w-0 [&>a>div]:duration-1000 [&>a>img]:h-11 [&>a>img]:w-11 [&>a>img]:p-2 [&>a]:flex [&>a]:items-center [&>a]:overflow-hidden"
>
  <button onclick="closeSocials()">
    <img
      fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/x.svg"
      class="m-1 h-9 w-9 rounded-full bg-gray-800/30 p-2 opacity-80 duration-300 hover:opacity-100"
      alt="close button"
    />
  </button>
  <button
    class="group flex items-center overflow-hidden bg-teal-500/90"
    id="tour-button"
    onclick=";driverObj.drive()"
  >
    <img
      fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/tour_guide2.svg"
      alt="tour guide icon"
      class="h-11 w-11 p-2"
    />
    <div class="max-w-0 duration-1000 group-hover:max-w-[300px]">
      <p class="line-clamp-1 text-clip pr-2 leading-4">Take a tour of this site!</p>
    </div>
  </button>
  <a class="group bg-orange-600/90" target="_blank" href={"https://github.com/ferranJS" + baseURL}>
    <img
      fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/github.svg"
      alt="github logo"
    />
    <div class="group-hover:max-w-[300px]">
      <p class="pr-2">This repo</p>
    </div>
  </a>
  <a class="group bg-lime-500/90" target="_blank" href="https://ferran.tech">
    <img
      fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/main/media/fjs-logo.svg"
      alt="ferranjs logo, ferran.tech logo"
    />
    <div class="group-hover:max-w-[300px]">
      <p class="pr-2">My website</p>
    </div>
  </a>
  <a class="group bg-purple-600/90" target="_blank" href="https://www.linkedin.com/in/ferran-ramirez/">
    <img
      fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/linkedin.svg"
      alt="linkedin logo"
    />
    <div class="group-hover:max-w-[300px]">
      <p class="pr-2">Linkedin</p>
    </div>
  </a>
  <a class="group bg-rose-500/90" target="_blank" href="mailto:contact@ferran.tech">
    <img
      fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/email.svg"
      alt="email logo"
    />
    <div class="group-hover:max-w-[300px]">
      <p class="pr-2">contact@ferran.tech</p>
    </div>
  </a>
  <a class="group bg-blue-600/90" target="_blank" href="https://twitter.com/ferran_dev">
    <img
      fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/twitter.svg"
      alt="twitter logo"
    />
    <div class="group-hover:max-w-[300px]">
      <p class="pr-2">Twitter</p>
    </div>
  </a>
  <!-- <a class="group bg-sky-600/90" target="_blank" href="https://leetcode.com/ferranDev/">
    <img fetchpriority="low"
      src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/leetcode.svg"
      alt="leetcode logo"
    />
    <div class="group-hover:max-w-[300px]">
      <p class="pr-2">Leetcode</p>
    </div>
  </a> -->
  <!-- <a class="group bg-rose-500/90" target="_blank" href="https://www.reddit.com/user/ferranJS">
    <img fetchpriority="low" src="https://raw.githubusercontent.com/ferranJS/ferranJS/master/media/reddit.svg" alt="reddit logo" />
    <div class="group-hover:max-w-[300px]">
      <p class="pr-2">Reddit</p>
    </div>
  </a> -->
</aside>

<style is:global>
  #socials {
    animation: socials 2s ease-in-out backwards;
    animation-delay: 2s;
  }
  @keyframes socials {
    0% {
      pointer-events: none;
      opacity: 0;
      transform: translate(-20px, 0);
    }
    50% {
      transform: translate(0, 0);
    }
    100% {
      pointer-events: initial;
      opacity: 0.8;
    }
  }

  #tour-button {
    animation: tilt-shaking 4s ease-in-out infinite;
    translate: 0 1px;
  }
  #tour-button:hover {
    animation: none;
    transform: rotate(0deg) translate(0px);
  }
  @keyframes tilt-shaking {
    0%,
    82%,
    99%,
    100% {
      transform: rotate(0deg) translate(0px);
    }
    86%,
    90%,
    94% {
      transform: rotate(5deg);
    }
    84%,
    88%,
    92%,
    96% {
      transform: rotate(-5deg);
    }
  }

  .driver-popover-footer button {
    @apply cursor-pointer rounded px-4 py-2 text-sm font-bold duration-200;
    background-color: rgba(107, 230, 216, 0.9);
    text-shadow: none;
    color: rgb(0, 0, 0);
    border: 1px solid rgba(105, 227, 213, 0.9);
  }
  .driver-popover-description {
    padding-bottom: 15px;
    border-bottom: 1px solid gainsboro;
  }
  .driver-popover-close-btn {
    width: 32px;
    font-size: 24px;
  }
  .driver-popover-footer {
    gap: 20px;
  }
</style>

<script is:inline>
  const socials = document.querySelector("#socials")
  function closeSocials() {
    socials.classList.add("-translate-x-10")
    socials.classList.add("!opacity-0")
    socials.classList.add("pointer-events-none")
  }
</script>
